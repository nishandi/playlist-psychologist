<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playlist Psychologist - AI Music Personality Analyzer</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        
        <!-- Header -->
        <header>
            <h1>ğŸµ Playlist Psychologist</h1>
            <p class="tagline">Discovering the hidden patterns in your musical soul</p>
        </header>

        <!-- Loading Screen (shown initially) -->
        <div id="loading-screen" class="active">
            
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
                <p class="progress-text" id="progress-text">Loading AI model... 0%</p>
                <p class="progress-subtext" id="progress-subtext">Downloading Phi-2 (2.7B parameters)...</p>
            </div>

            <!-- Device Warning -->
            <div class="device-warning" id="device-warning">
                <p>â±ï¸ <strong>First-time load:</strong> This may take 2-4 minutes while we download the AI model (1.6GB).</p>
                <p>ğŸ’¡ <strong>Why the wait?</strong> We're loading a complete AI model into your browser so your data never leaves your device!</p>
                <p>â˜• <strong>Grab a coffee</strong> and explore the tabs below while you wait...</p>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="privacy">ğŸ”’ Privacy</button>
                <button class="tab-button" data-tab="music">ğŸµ Music</button>
                <button class="tab-button" data-tab="trivia">ğŸ¯ Trivia</button>
                <button class="tab-button" data-tab="facts">ğŸ’¡ Facts</button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content-container">
                
                <!-- Privacy Tab -->
                <div class="tab-content active" id="privacy-tab">
                    <h2>ğŸ”’ Your Privacy Matters</h2>
                    <div class="privacy-points">
                        <div class="privacy-point">
                            <span class="icon">ğŸ </span>
                            <div>
                                <h3>100% Local Processing</h3>
                                <p>Everything runs in your browser using Phi-2 (Microsoft's 2.7B parameter model). Your playlist data never leaves your device.</p>
                            </div>
                        </div>
                        <div class="privacy-point">
                            <span class="icon">ğŸš«</span>
                            <div>
                                <h3>No Servers. No APIs.</h3>
                                <p>We don't have a backend. We only read public Spotify playlist data (no login required). Your analysis is private.</p>
                            </div>
                        </div>
                        <div class="privacy-point">
                            <span class="icon">ğŸ”“</span>
                            <div>
                                <h3>Open Source</h3>
                                <p>All code is public on GitHub. See exactly what we're doing. No tracking, no analytics.</p>
                            </div>
                        </div>
                        <div class="privacy-point">
                            <span class="icon">ğŸ’°</span>
                            <div>
                                <h3>Free Forever</h3>
                                <p>No ads. No premium tiers. No data selling. This is a portfolio project demonstrating AI evaluation.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Music Tab -->
                <div class="tab-content" id="music-tab">
                    <h2>ğŸµ Lo-Fi Beats While You Wait</h2>
                    <div class="music-player">
                        <p class="music-info">Relax with some chill instrumental music</p>
                        <audio controls loop id="music-player">
                            <source src="https://cdn.pixabay.com/audio/2022/05/13/audio_1808fbf07a.mp3" type="audio/mpeg">
                            Your browser doesn't support audio playback.
                        </audio>
                        <p class="music-credit">ğŸ¼ Music: "Lofi Study" from Pixabay</p>
                    </div>
                </div>

                <!-- Trivia Tab -->
                <div class="tab-content" id="trivia-tab">
                    <h2>ğŸ¯ Music Psychology Trivia</h2>
                    <div class="trivia-container">
                        <div class="trivia-question">
                            <h3>Question 1 of 3</h3>
                            <p class="question-text">What percentage of people experience "frisson" (goosebumps from music)?</p>
                            <div class="trivia-options">
                                <button class="trivia-option" data-correct="false">25%</button>
                                <button class="trivia-option" data-correct="true">50%</button>
                                <button class="trivia-option" data-correct="false">75%</button>
                                <button class="trivia-option" data-correct="false">90%</button>
                            </div>
                            <p class="trivia-feedback" style="display: none;"></p>
                        </div>
                    </div>
                </div>

                <!-- Facts Tab -->
                <div class="tab-content" id="facts-tab">
                    <h2>ğŸ’¡ Mind-Blowing Music Facts</h2>
                    <div class="facts-container">
                        <div class="fact-card">
                            <span class="fact-icon">ğŸ§ </span>
                            <p><strong>Your music taste crystallizes around age 14.</strong> Most people's favorite songs come from their early teens - it's when you're forming your identity!</p>
                        </div>
                        <div class="fact-card">
                            <span class="fact-icon">ğŸ’Š</span>
                            <p><strong>Music activates the same brain regions as drugs.</strong> Your favorite songs trigger dopamine release in the same pathway as food, sex, and substances.</p>
                        </div>
                        <div class="fact-card">
                            <span class="fact-icon">ğŸ˜¢</span>
                            <p><strong>Sad music makes most people feel better.</strong> It provides emotional validation and catharsis - you're not weird for loving melancholic tunes!</p>
                        </div>
                        <div class="fact-card">
                            <span class="fact-icon">ğŸ­</span>
                            <p><strong>Your playlist reveals your personality.</strong> Studies show music preferences predict traits like openness, empathy, and thinking style.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Input Screen (shown after loading) -->
        <div id="input-screen" style="display: none;">
            <h2>âœ¨ Ready to Analyze Your Musical Mind</h2>
            
            <div class="input-options">
                <div class="input-method active" data-method="playlist">
                    <h3>ğŸ“‹ Option 1: Paste Spotify Playlist Link</h3>
                    <p>Share a public playlist that represents your taste</p>
                    <input type="text" id="playlist-url" placeholder="https://open.spotify.com/playlist/..." />
                    <button id="analyze-playlist-btn" class="cta-button">Analyze Playlist</button>
                    <p class="input-note">âš ï¸ Playlist must be public. We only read track/artist data (no login needed).</p>
                </div>

                <div class="input-divider">
                    <span>OR</span>
                </div>

                <div class="input-method" data-method="manual">
                    <h3>âœï¸ Option 2: Describe Your Music Taste</h3>
                    <p>Tell us about your favorite artists, genres, or listening habits</p>
                    <textarea id="manual-input" placeholder="Example: I mostly listen to indie folk (Bon Iver, Fleet Foxes) and some electronic (Bonobo, Tycho). I like music with emotional depth and interesting production..."></textarea>
                    <button id="analyze-manual-btn" class="cta-button">Analyze Description</button>
                </div>
            </div>

            <div class="example-link">
                <p>ğŸ¯ <strong>Try an example:</strong> <a href="#" id="load-example">Click here</a> to load a sample playlist</p>
            </div>
        </div>

        <!-- Analyzing Screen -->
        <div id="analyzing-screen" style="display: none;">
            <div class="analyzing-animation">
                <div class="spinner"></div>
                <h2>ğŸµ Analyzing Your Musical Soul...</h2>
                <p id="analyzing-status">Reading playlist data...</p>
                <p class="analyzing-subtext">This takes 30-60 seconds</p>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" style="display: none;">
            <h2>ğŸ­ Your Music Personality Analysis</h2>
            
            <div class="result-section">
                <div class="result-header">
                    <span class="result-icon">ğŸª</span>
                    <h3>Mirror: What You Already Know</h3>
                </div>
                <div class="result-content" id="mirror-content"></div>
            </div>

            <div class="result-section highlight">
                <div class="result-header">
                    <span class="result-icon">ğŸ’¡</span>
                    <h3>Hidden Pattern: The Aha Moment</h3>
                </div>
                <div class="result-content" id="pattern-content"></div>
            </div>

            <div class="result-section">
                <div class="result-header">
                    <span class="result-icon">âœ¨</span>
                    <h3>Actionable Steps: What To Try</h3>
                </div>
                <div class="result-content" id="actions-content"></div>
            </div>

            <!-- Rating UI -->
            <div class="rating-section">
                <h3>ğŸ“Š Rate This Analysis</h3>
                <p>Help us improve! Your ratings are stored locally (private).</p>

                <div class="rating-dimension">
                    <h4>Mirror Accuracy: Did we understand your taste?</h4>
                    <div class="rating-options">
                        <button class="rating-btn" data-dimension="mirror" data-value="3">ğŸ˜ Perfect</button>
                        <button class="rating-btn" data-dimension="mirror" data-value="2">ğŸ˜Š Mostly</button>
                        <button class="rating-btn" data-dimension="mirror" data-value="1">ğŸ˜ Somewhat</button>
                        <button class="rating-btn" data-dimension="mirror" data-value="0">ğŸ˜ Missed</button>
                    </div>
                </div>

                <div class="rating-dimension">
                    <h4>Insight Novelty: Did we reveal something new?</h4>
                    <div class="rating-options">
                        <button class="rating-btn" data-dimension="novelty" data-value="2">ğŸ’¡ Big Aha!</button>
                        <button class="rating-btn" data-dimension="novelty" data-value="1">ğŸ¤” Mild Insight</button>
                        <button class="rating-btn" data-dimension="novelty" data-value="0">ğŸ˜‘ Nothing New</button>
                    </div>
                </div>

                <div class="rating-dimension">
                    <h4>Actionability: Are recommendations useful?</h4>
                    <div class="rating-options">
                        <button class="rating-btn" data-dimension="actionability" data-value="2">âœ… Definitely</button>
                        <button class="rating-btn" data-dimension="actionability" data-value="1">ğŸ¤· Maybe</button>
                        <button class="rating-btn" data-dimension="actionability" data-value="0">âŒ Not Really</button>
                    </div>
                </div>

                <div class="rating-feedback">
                    <label for="feedback-text">What surprised you most? (optional)</label>
                    <textarea id="feedback-text" placeholder="Share your thoughts..."></textarea>
                </div>

                <button id="submit-rating-btn" class="cta-button">Submit Rating</button>
                <button id="try-another-btn" class="secondary-button">Try Another Playlist</button>
            </div>
        </div>

    </div>

    <!-- Load Transformers.js from CDN -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
