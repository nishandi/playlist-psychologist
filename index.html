<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playlist Psychologist - AI Music Personality Analyzer</title>
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Load config first -->
    <script src="config.js"></script>
</head>
<body>
    <div class="container">
        
        <!-- Header -->
        <header>
            <h1>ğŸµ Playlist Psychologist</h1>
            <p class="tagline">Discovering the hidden patterns in your musical soul</p>
            <div class="header-nav">
                <a href="eval-dashboard.html" class="nav-link">ğŸ“Š View Evaluation Dashboard</a>
                <a href="https://github.com/nishandi/playlist-psychologist" target="_blank" class="nav-link">ğŸ’» GitHub</a>
            </div>
        </header>

        <!-- Loading Screen -->
        <div id="loading-screen" class="active">
            <div class="loading-content">
                <div class="spinner"></div>
                <h2>ğŸµ Initializing Analysis Engine...</h2>
                <p class="loading-subtext">Powered by Google Gemini AI</p>
            </div>
        </div>

        <!-- Input Screen -->
        <div id="input-screen" style="display: none;">
            <div class="welcome-section">
                <h2>âœ¨ Discover Your Musical Personality</h2>
                <p class="welcome-text">Paste a Spotify playlist link and uncover hidden patterns in your music taste through AI analysis.</p>
                
                <div class="features-grid">
                    <div class="feature">
                        <span class="feature-icon">ğŸª</span>
                        <h4>Mirror</h4>
                        <p>What you already know</p>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">ğŸ’¡</span>
                        <h4>Hidden Pattern</h4>
                        <p>Aha moments you didn't see</p>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">âœ¨</span>
                        <h4>Actionable Steps</h4>
                        <p>What to try next</p>
                    </div>
                </div>
            </div>
            
            <div class="input-container">
                <div class="input-section">
                    <h3>ğŸ”— Option 1: Paste Spotify Playlist</h3>
                    <input 
                        type="text" 
                        id="playlist-url" 
                        placeholder="https://open.spotify.com/playlist/..." 
                        class="playlist-input"
                    />
                    <button id="analyze-playlist-btn" class="cta-button">
                        âœ¨ Analyze Playlist
                    </button>
                    <p class="input-note">ğŸ”’ Only public playlist data is read. No login required.</p>
                </div>

                <div class="divider">
                    <span>OR</span>
                </div>

                <div class="input-section">
                    <h3>âœï¸ Option 2: Describe Your Taste</h3>
                    <textarea 
                        id="manual-input" 
                        placeholder="Example: I love indie folk (Bon Iver, Fleet Foxes) and atmospheric electronic music (Tycho, Bonobo). I listen while working and value emotional depth and interesting production..."
                        class="manual-input"
                    ></textarea>
                    <button id="analyze-manual-btn" class="cta-button">
                        âœ¨ Analyze Description
                    </button>
                </div>
            </div>

            <div class="example-section">
                <p class="example-text">
                    ğŸ¯ <strong>New to this?</strong> 
                    <a href="#" id="load-example" class="example-link">Load an example</a> 
                    to see how it works
                </p>
            </div>
        </div>

        <!-- Analyzing Screen -->
        <div id="analyzing-screen" style="display: none;">
            <div class="analyzing-content">
                <div class="spinner large"></div>
                <h2>ğŸµ Analyzing Your Musical Soul...</h2>
                <p id="analyzing-status" class="analyzing-status">Processing your music data...</p>
                <div class="progress-dots">
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
                <p class="analyzing-note">This typically takes 15-30 seconds</p>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" style="display: none;">
            <div class="results-header">
                <h2>ğŸ­ Your Music Personality Analysis</h2>
                <p class="results-intro">Here's what your music taste reveals about you</p>
            </div>
            
            <div class="result-card mirror-card">
                <div class="card-header">
                    <span class="card-icon">ğŸª</span>
                    <h3>Mirror: What You Already Know</h3>
                </div>
                <div class="card-content" id="mirror-content"></div>
            </div>

            <div class="result-card pattern-card highlight">
                <div class="card-header">
                    <span class="card-icon">ğŸ’¡</span>
                    <h3>Hidden Pattern: Your Aha Moment</h3>
                </div>
                <div class="card-content" id="pattern-content"></div>
            </div>

            <div class="result-card actions-card">
                <div class="card-header">
                    <span class="card-icon">âœ¨</span>
                    <h3>Actionable Steps: What To Try</h3>
                </div>
                <div class="card-content actions-content" id="actions-content"></div>
            </div>

            <!-- Rating Section -->
            <div class="rating-container">
                <div class="rating-header">
                    <h3>ğŸ“Š Rate This Analysis</h3>
                    <p class="rating-subtitle">Your feedback helps improve the system and contributes to our public evaluation data</p>
                </div>

                <div class="rating-grid">
                    <div class="rating-dimension">
                        <div class="dimension-header">
                            <span class="dimension-icon">ğŸª</span>
                            <div>
                                <h4>Mirror Accuracy</h4>
                                <p class="dimension-desc">Did we understand your taste correctly?</p>
                            </div>
                        </div>
                        <div class="rating-buttons">
                            <button class="rating-btn" data-dimension="mirror" data-value="3">
                                <span class="emoji">ğŸ˜</span>
                                <span class="label">Perfect</span>
                            </button>
                            <button class="rating-btn" data-dimension="mirror" data-value="2">
                                <span class="emoji">ğŸ˜Š</span>
                                <span class="label">Mostly</span>
                            </button>
                            <button class="rating-btn" data-dimension="mirror" data-value="1">
                                <span class="emoji">ğŸ˜</span>
                                <span class="label">Somewhat</span>
                            </button>
                            <button class="rating-btn" data-dimension="mirror" data-value="0">
                                <span class="emoji">ğŸ˜</span>
                                <span class="label">Missed</span>
                            </button>
                        </div>
                    </div>

                    <div class="rating-dimension">
                        <div class="dimension-header">
                            <span class="dimension-icon">ğŸ’¡</span>
                            <div>
                                <h4>Insight Novelty</h4>
                                <p class="dimension-desc">Did we reveal something new?</p>
                            </div>
                        </div>
                        <div class="rating-buttons">
                            <button class="rating-btn" data-dimension="novelty" data-value="2">
                                <span class="emoji">ğŸ’¡</span>
                                <span class="label">Big Aha!</span>
                            </button>
                            <button class="rating-btn" data-dimension="novelty" data-value="1">
                                <span class="emoji">ğŸ¤”</span>
                                <span class="label">Mild</span>
                            </button>
                            <button class="rating-btn" data-dimension="novelty" data-value="0">
                                <span class="emoji">ğŸ˜‘</span>
                                <span class="label">Known</span>
                            </button>
                        </div>
                    </div>

                    <div class="rating-dimension">
                        <div class="dimension-header">
                            <span class="dimension-icon">âœ¨</span>
                            <div>
                                <h4>Actionability</h4>
                                <p class="dimension-desc">Are the recommendations useful?</p>
                            </div>
                        </div>
                        <div class="rating-buttons">
                            <button class="rating-btn" data-dimension="actionability" data-value="2">
                                <span class="emoji">âœ…</span>
                                <span class="label">Definitely</span>
                            </button>
                            <button class="rating-btn" data-dimension="actionability" data-value="1">
                                <span class="emoji">ğŸ¤·</span>
                                <span class="label">Maybe</span>
                            </button>
                            <button class="rating-btn" data-dimension="actionability" data-value="0">
                                <span class="emoji">âŒ</span>
                                <span class="label">Not Really</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="feedback-section">
                    <label for="feedback-text" class="feedback-label">
                        ğŸ’­ What surprised you most? (optional)
                    </label>
                    <textarea 
                        id="feedback-text" 
                        class="feedback-textarea"
                        placeholder="Share your thoughts... This helps us improve!"
                    ></textarea>
                </div>

                <div class="action-buttons">
                    <button id="submit-rating-btn" class="primary-button">
                        ğŸ“Š Submit Rating
                    </button>
                    <button id="try-another-btn" class="secondary-button">
                        ğŸ”„ Try Another Playlist
                    </button>
                </div>

                <p class="rating-footer">
                    âœ¨ Your anonymous rating will appear on our 
                    <a href="eval-dashboard.html" class="dashboard-link-inline">evaluation dashboard</a>
                </p>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p class="footer-text">
                Built with â¤ï¸ as a portfolio project demonstrating AI evaluation methodology
            </p>
            <p class="footer-links">
                <a href="eval-dashboard.html">Evaluation Dashboard</a> â€¢ 
                <a href="evaluation_methodology.md">Methodology</a> â€¢ 
                <a href="https://github.com/nishandi/playlist-psychologist">GitHub</a>
            </p>
        </footer>

    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>
